#ifndef __DNS_H
#define __DNS_H


#include "plmisc.h"


///////////////////////////////////////////////////////////////////////////////
//
// defines
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
// frees a buffer allocated by a lanman function
//
///////////////////////////////////////////////////////////////////////////////

#define CleanDnsBuf(ptr) \
	( ( ( ptr ) ? ( DnsRecordListFree(ptr, DnsFreeRecordListDeep), ptr = NULL, 1 ) : 1 ) )

#define CleanDnsBufOnErr(ptr) \
	( ( ( error ) ? ( CleanDnsBuf(ptr) ) : 1 ) )

#define CleanDnsBufOnCond(ptr, cond) \
	( ( ( cond ) ? ( CleanDnsBuf(ptr) ) : 1 ) )


///////////////////////////////////////////////////////////////////////////////
//
// prototypes
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
//
// param:
//
// return: success - 1 
//         failure - 0 
//
// note:   call GetLastError() to get the error code on failure
//
///////////////////////////////////////////////////////////////////////////////

XS(XS_NT__Dns_DnsQuery);


#endif //#ifndef __DNS_H

